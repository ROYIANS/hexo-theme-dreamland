var R=Object.defineProperty;var I=(t,e,o)=>e in t?R(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o;var v=(t,e,o)=>(I(t,typeof e!="symbol"?e+"":e,o),o);import{u as O}from"./dayjs.7e7d5501.js";import V from"./MoodCard.7e4c06b7.js";import{c as F,u as L}from"./useLocalCache.aeac41ab.js";import{bi as N,k as W,ag as h,m as A,d as z,v as D,z as g,p as T,E as S,A as G,B as H,q as x,J as q,o as C,g as $,e as f,G as b,b as U,i as k,t as _,f as m,h as M}from"./entry.42fd27ef.js";import{f as J}from"./format-length.c9d165c6.js";import{_ as K}from"./Divider.65e16c61.js";let w=!1;function Q(){if(N&&window.CSS&&!w&&(w=!0,"registerProperty"in(window==null?void 0:window.CSS)))try{CSS.registerProperty({name:"--n-color-start",syntax:"<color>",inherits:!1,initialValue:"#0000"}),CSS.registerProperty({name:"--n-color-end",syntax:"<color>",inherits:!1,initialValue:"#0000"})}catch{}}const X=t=>{const{primaryColor:e,successColor:o,warningColor:n,errorColor:a,infoColor:l,fontWeightStrong:s}=t;return{fontWeight:s,rotate:"252deg",colorStartPrimary:h(e,{alpha:.6}),colorEndPrimary:e,colorStartInfo:h(l,{alpha:.6}),colorEndInfo:l,colorStartWarning:h(n,{alpha:.6}),colorEndWarning:n,colorStartError:h(a,{alpha:.6}),colorEndError:a,colorStartSuccess:h(o,{alpha:.6}),colorEndSuccess:o}},Y={name:"GradientText",common:W,self:X},Z=Y,ee=A("gradient-text",`
 display: inline-block;
 font-weight: var(--n-font-weight);
 -webkit-background-clip: text;
 background-clip: text;
 color: #0000;
 white-space: nowrap;
 background-image: linear-gradient(var(--n-rotate), var(--n-color-start) 0%, var(--n-color-end) 100%);
 transition:
 --n-color-start .3s var(--n-bezier),
 --n-color-end .3s var(--n-bezier);
`),te=Object.assign(Object.assign({},T.props),{size:[String,Number],fontSize:[String,Number],type:{type:String,default:"primary"},color:[Object,String],gradient:[Object,String]}),oe=z({name:"GradientText",props:te,setup(t){Q();const{mergedClsPrefixRef:e,inlineThemeDisabled:o}=D(t),n=g(()=>{const{type:r}=t;return r==="danger"?"error":r}),a=g(()=>{let r=t.size||t.fontSize;return r&&(r=J(r)),r||void 0}),l=g(()=>{const r=t.color||t.gradient;if(typeof r=="string")return r;if(r){const u=r.deg||0,p=r.from,y=r.to;return`linear-gradient(${u}deg, ${p} 0%, ${y} 100%)`}}),s=T("GradientText","-gradient-text",ee,Z,t,e),d=g(()=>{const{value:r}=n,{common:{cubicBezierEaseInOut:u},self:{rotate:p,[S("colorStart",r)]:y,[S("colorEnd",r)]:B,fontWeight:P}}=s.value;return{"--n-bezier":u,"--n-rotate":p,"--n-color-start":y,"--n-color-end":B,"--n-font-weight":P}}),i=o?G("gradient-text",g(()=>n.value[0]),d,t):void 0;return{mergedClsPrefix:e,compatibleType:n,styleFontSize:a,styleBgImage:l,cssVars:o?void 0:d,themeClass:i==null?void 0:i.themeClass,onRender:i==null?void 0:i.onRender}},render(){const{mergedClsPrefix:t,onRender:e}=this;return e==null||e(),H("span",{class:[`${t}-gradient-text`,`${t}-gradient-text--${this.compatibleType}-type`,this.themeClass],style:[{fontSize:this.styleFontSize,backgroundImage:this.styleBgImage},this.cssVars]},this.$slots)}}),c=t=>{let e="";if(Object.keys(t).length>0){for(const o in t)e+=`${o}=${t[o]}&`;e=e.slice(0,e.length-1)}return e};class ne{constructor(e){v(this,"instances");const{baseUrl:o,combination:n="chain",fetchOptions:a={mode:"cors"},options:l}=e;this.instances=F({baseUrl:o,combination:n,options:l,fetchOptions:a})}get({url:e,params:o={}},n={}){return this.instances(`${e}${c(o)?`?${c(o)}`:""}`,n).json()}post({url:e,data:o,params:n={}},a={}){return this.instances(`${e}${c(n)?`?${c(n)}`:""}`,a).post(o).json()}put({url:e,data:o,params:n={}},a={}){return this.instances(`${e}${c(n)?`?${c(n)}`:""}`,a).put(o).json()}patch({url:e,data:o,params:n={}},a={}){return this.instances(`${e}${c(n)?`?${c(n)}`:""}`,a).patch(o).json()}delete({url:e,params:o={}},n={}){return this.instances(`${e}${c(o)?`?${c(o)}`:""}`,n).delete().json()}}const{getCache:re,clearCache:se}=L(),ae=["/admin"],ie={baseUrl:"",options:{beforeFetch({options:t,cancel:e,url:o}){const n=re("token");return ae.find(a=>o.includes(a))&&!n&&e(),t.headers={...t.headers,Authorization:n},{options:t}},afterFetch(t){const{code:e,message:o}=t.data;return e===102?(console.log("登录过期，请重新登录"),se(),location.reload()):e!==void 0&&e!==0&&console.log(o||"请求失败，请稍后再试"),t},onFetchError(t){return console.log("错误的请求，请稍后再试"),t},timeout:1e4}},j=(t={})=>new ne({...ie,...t}),E=j();j({fetchOptions:{mode:"no-cors"}});const ce=()=>E.get({url:"https://v1.hitokoto.cn/",params:{}}),le=()=>E.get({url:"https://api.songzixian.com/api/ip?dataSource=GLOBAL_IP",params:{}}),de={class:"bg-white dark:bg-zinc-900 dark:bg-opacity-80 rounded-sm border relative dark:border-zinc-800 bg-opacity-80 mb-3 h-max"},ue=f("div",{class:"h-14 absolute top-0 inset-x-0 z-1 pointer-events-none bg-gradient-to-t from-white dark:from-zinc-900 w-full z-99"},null,-1),ge=f("div",{class:"h-14 absolute top-0 inset-x-0 z-0 pointer-events-none bg-gradient-to-r from-default-theme-primary-200 via-60% via-yellow-100 to-blue-100 dark:from-default-theme-primary-dark-600 dark:to-transparent"},null,-1),he={class:"relative inset-0 z-2"},fe={class:"text-sm font-bold px-4 pt-4 pb-1"},me={key:0},pe={class:"text-xs px-4"},$e=z({__name:"HomeSidebarMoodCard",setup(t){const e=O(),o=g(()=>{const s=e().hour();return 4<=s&&s<=10?"早上好":11<=s&&s<=13?"中午好":14<=s&&s<=18?"下午好":19<=s&&s<=24||s>=0&&s<=3?"晚上好":"A"}),n=x(""),a=x(""),l=async()=>{var i,r,u;const{data:s}=await ce();n.value=((i=s==null?void 0:s.value)==null?void 0:i.hitokoto)||"";const{data:d}=await le();a.value=((r=d.value)==null?void 0:r.data.district)||((u=d.value)==null?void 0:u.data.city)||"北京"};return q(()=>{l()}),(s,d)=>{const i=oe,r=K;return C(),$("div",de,[ue,ge,f("div",he,[f("div",fe,[b(i,{type:"success"},{default:U(()=>[k(" 嗨，"+_(m(o))+"，",1),m(a)?(C(),$("span",me,"来自"+_(m(a))+"的",1)):M("",!0),k("朋友！ ")]),_:1})]),f("div",pe,_(m(n)),1),b(r,{class:"!my-2"}),b(V,{class:"px-4 dark:border-zinc-800"})])])}}});export{$e as _};
