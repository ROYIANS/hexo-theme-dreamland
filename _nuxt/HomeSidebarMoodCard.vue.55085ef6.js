var R=Object.defineProperty;var I=(t,e,n)=>e in t?R(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var v=(t,e,n)=>(I(t,typeof e!="symbol"?e+"":e,n),n);import{bQ as O,l as V,ah as h,p as F,d as z,y as L,B as g,v as j,aa as S,C as D,D as N,x,o as W,a as C,c as $,g as f,G as b,f as G,j as k,t as _,h as m,i as H,aI as A}from"./entry.c7679bea.js";import U from"./MoodCard.dd40ff28.js";import{c as q,u as M}from"./useLocalCache.8403dea9.js";import{f as K}from"./format-length.c9d165c6.js";import{_ as Q}from"./Divider.9c51377a.js";let w=!1;function J(){if(O&&window.CSS&&!w&&(w=!0,"registerProperty"in(window==null?void 0:window.CSS)))try{CSS.registerProperty({name:"--n-color-start",syntax:"<color>",inherits:!1,initialValue:"#0000"}),CSS.registerProperty({name:"--n-color-end",syntax:"<color>",inherits:!1,initialValue:"#0000"})}catch{}}const X=t=>{const{primaryColor:e,successColor:n,warningColor:o,errorColor:a,infoColor:l,fontWeightStrong:s}=t;return{fontWeight:s,rotate:"252deg",colorStartPrimary:h(e,{alpha:.6}),colorEndPrimary:e,colorStartInfo:h(l,{alpha:.6}),colorEndInfo:l,colorStartWarning:h(o,{alpha:.6}),colorEndWarning:o,colorStartError:h(a,{alpha:.6}),colorEndError:a,colorStartSuccess:h(n,{alpha:.6}),colorEndSuccess:n}},Y={name:"GradientText",common:V,self:X},Z=Y,ee=F("gradient-text",`
 display: inline-block;
 font-weight: var(--n-font-weight);
 -webkit-background-clip: text;
 background-clip: text;
 color: #0000;
 white-space: nowrap;
 background-image: linear-gradient(var(--n-rotate), var(--n-color-start) 0%, var(--n-color-end) 100%);
 transition:
 --n-color-start .3s var(--n-bezier),
 --n-color-end .3s var(--n-bezier);
`),te=Object.assign(Object.assign({},j.props),{size:[String,Number],fontSize:[String,Number],type:{type:String,default:"primary"},color:[Object,String],gradient:[Object,String]}),ne=z({name:"GradientText",props:te,setup(t){J();const{mergedClsPrefixRef:e,inlineThemeDisabled:n}=L(t),o=g(()=>{const{type:r}=t;return r==="danger"?"error":r}),a=g(()=>{let r=t.size||t.fontSize;return r&&(r=K(r)),r||void 0}),l=g(()=>{const r=t.color||t.gradient;if(typeof r=="string")return r;if(r){const u=r.deg||0,p=r.from,y=r.to;return`linear-gradient(${u}deg, ${p} 0%, ${y} 100%)`}}),s=j("GradientText","-gradient-text",ee,Z,t,e),d=g(()=>{const{value:r}=o,{common:{cubicBezierEaseInOut:u},self:{rotate:p,[S("colorStart",r)]:y,[S("colorEnd",r)]:B,fontWeight:P}}=s.value;return{"--n-bezier":u,"--n-rotate":p,"--n-color-start":y,"--n-color-end":B,"--n-font-weight":P}}),i=n?D("gradient-text",g(()=>o.value[0]),d,t):void 0;return{mergedClsPrefix:e,compatibleType:o,styleFontSize:a,styleBgImage:l,cssVars:n?void 0:d,themeClass:i==null?void 0:i.themeClass,onRender:i==null?void 0:i.onRender}},render(){const{mergedClsPrefix:t,onRender:e}=this;return e==null||e(),N("span",{class:[`${t}-gradient-text`,`${t}-gradient-text--${this.compatibleType}-type`,this.themeClass],style:[{fontSize:this.styleFontSize,backgroundImage:this.styleBgImage},this.cssVars]},this.$slots)}}),c=t=>{let e="";if(Object.keys(t).length>0){for(const n in t)e+=`${n}=${t[n]}&`;e=e.slice(0,e.length-1)}return e};class oe{constructor(e){v(this,"instances");const{baseUrl:n,combination:o="chain",fetchOptions:a={mode:"cors"},options:l}=e;this.instances=q({baseUrl:n,combination:o,options:l,fetchOptions:a})}get({url:e,params:n={}},o={}){return this.instances(`${e}${c(n)?`?${c(n)}`:""}`,o).json()}post({url:e,data:n,params:o={}},a={}){return this.instances(`${e}${c(o)?`?${c(o)}`:""}`,a).post(n).json()}put({url:e,data:n,params:o={}},a={}){return this.instances(`${e}${c(o)?`?${c(o)}`:""}`,a).put(n).json()}patch({url:e,data:n,params:o={}},a={}){return this.instances(`${e}${c(o)?`?${c(o)}`:""}`,a).patch(n).json()}delete({url:e,params:n={}},o={}){return this.instances(`${e}${c(n)?`?${c(n)}`:""}`,o).delete().json()}}const{getCache:re,clearCache:se}=M(),ae=["/admin"],ie={baseUrl:"",options:{beforeFetch({options:t,cancel:e,url:n}){const o=re("token");return ae.find(a=>n.includes(a))&&!o&&e(),t.headers={...t.headers,Authorization:o},{options:t}},afterFetch(t){const{code:e,message:n}=t.data;return e===102?(console.log("登录过期，请重新登录"),se(),location.reload()):e!==void 0&&e!==0&&console.log(n||"请求失败，请稍后再试"),t},onFetchError(t){return console.log("错误的请求，请稍后再试"),t},timeout:1e4}},T=(t={})=>new oe({...ie,...t}),E=T();T({fetchOptions:{mode:"no-cors"}});const ce=()=>E.get({url:"https://v1.hitokoto.cn/",params:{}}),le=()=>E.get({url:"https://api.songzixian.com/api/ip?dataSource=GLOBAL_IP",params:{}}),de={class:"bg-white dark:bg-zinc-900 dark:bg-opacity-80 rounded-sm border relative dark:border-zinc-800 bg-opacity-80 mb-3 h-max"},ue=f("div",{class:"h-14 absolute top-0 inset-x-0 z-1 pointer-events-none bg-gradient-to-t from-white dark:from-zinc-900 w-full z-99"},null,-1),ge=f("div",{class:"h-14 absolute top-0 inset-x-0 z-0 pointer-events-none bg-gradient-to-r from-default-theme-primary-200 via-60% via-yellow-100 to-blue-100 dark:from-default-theme-primary-dark-600 dark:to-transparent"},null,-1),he={class:"relative inset-0 z-2"},fe={class:"text-sm font-bold px-4 pt-4 pb-1"},me={key:0},pe={class:"text-xs px-4"},Ce=z({__name:"HomeSidebarMoodCard",setup(t){const e=A(),n=g(()=>{const s=e().hour();return 4<=s&&s<=10?"早上好":11<=s&&s<=13?"中午好":14<=s&&s<=18?"下午好":19<=s&&s<=24||s>=0&&s<=3?"晚上好":"A"}),o=x(""),a=x(""),l=async()=>{var i,r,u;const{data:s}=await ce();o.value=((i=s==null?void 0:s.value)==null?void 0:i.hitokoto)||"";const{data:d}=await le();a.value=((r=d.value)==null?void 0:r.data.district)||((u=d.value)==null?void 0:u.data.city)||"北京"};return W(()=>{l()}),(s,d)=>{const i=ne,r=Q;return C(),$("div",de,[ue,ge,f("div",he,[f("div",fe,[b(i,{type:"success"},{default:G(()=>[k(" 嗨，"+_(m(n))+"，",1),m(a)?(C(),$("span",me,"来自"+_(m(a))+"的",1)):H("",!0),k("朋友！ ")]),_:1})]),f("div",pe,_(m(o)),1),b(r,{class:"!my-2"}),b(U,{class:"px-4 dark:border-zinc-800"})])])}}});export{Ce as _};
