import{_ as E}from"./default.vue.2880eb97.js";import{w as S,c as A,e as v,u as L,o as l,f as s,t as n,g as p,b as u,r as b,h as m,i as x,F as g}from"./entry.00c261f4.js";import"./index.cfaec0aa.js";/* empty css                  */import"./Header.vue.957ee6c5.js";import"./Popover.a89e3f86.js";import"./light.699ab056.js";import"./format-length.c9d165c6.js";import"./cssr.a2d6a062.js";import"./use-merged-state.1b2c9131.js";import"./Icon.e747ec3c.js";import"./light.afb97516.js";import"./create.f805babe.js";import"./light.70c37695.js";import"./Footer.vue.cff58107.js";const f=Symbol("plaintext"),k=Symbol("html"),y=Symbol("comment");function D(r=""){if(typeof r!="string"&&!(r instanceof String))return"";let o=f,e="",c=0,t="",d="";const{length:h}=r;for(let _=0;_<h;_++){const a=r[_];if(o===f)switch(a){case"<":o=k,e=e+a;break;default:d+=a;break}else if(o===k)switch(a){case"<":if(t)break;c++;break;case">":if(t)break;if(c){c--;break}t="",o=f,e="";break;case'"':case"'":a===t?t="":t=t||a,e=e+a;break;case"-":e==="<!-"&&(o=y),e=e+a;break;case" ":case`
`:if(e==="<"){o=f,d+="< ",e="";break}e=e+a;break;default:e=e+a;break}else if(o===y)switch(a){case">":e.slice(-2)==="--"&&(o=f),e="";break;default:e=e+a;break}}return d}const N=r=>{r=D(r);const o=(r.match(/[\u4E00-\u9FA5]/g)||[]).length,e=(r.replace(/[\u4E00-\u9FA5]/g,"").match(/[a-zA-Z0-9_\u0392-\u03c9\u0400-\u04FF]+|[\u4E00-\u9FFF\u3400-\u4dbf\uf900-\ufaff\u3040-\u309f\uac00-\ud7af\u0400-\u04FF]+|[\u00E4\u00C4\u00E5\u00C5\u00F6\u00D6]+|\w+/g)||[]).length;return[o,e]};function B(r,{cn:o=300,en:e=160}={}){let c=N(r),t=c[0]/o+c[1]/e;return t<1?"1":parseInt(`${t}`,10)}const M={class:"px-6 max-w-prose mx-auto gap-12 grid grid-cols-1"},H={class:"flex flex-col md:h-48 items-center justify-center"},V={class:"site-title heti--serif text-4xl leading-none relative before:absolute before:block before:w-2 before:h-2 before:top-0 before:-right-2 before:rounded before:border-red-700 before:border-2 before:border-solid"},$={class:"text-gray-500 mt-2"},C={class:"col-span-2 text-gray-400 my-1 text-sm time whitespace-nowrap"},I={class:"text-right"},P={key:0,class:"leading-relaxed overflow-ellipsis overflow-hidden"},j={href:"post.book.url",title:"post.book.title"},q={class:"col-span-2 heti--serif text-4xl text-center"},z={href:"post.path",class:"col-span-8"},O={class:"text-xl heti--serif"},U={class:"text-gray-400 my-1 text-sm time"},X={class:"text-xs flex flex-wrap items-center whitespace-nowrap overflow-hidden"},Z={key:0,class:"mr-2 text-theme-orange"},G=s("i",{class:"ri-skip-up-line"},null,-1),J={class:""},K=s("span",{class:"text-gray px-1"},"·",-1),Q={class:"opacity-50 before:opacity-70"},R=s("span",{class:"text-gray px-1"},"·",-1),W={key:0,class:"line-clamp-4 mt-2 ml-5"},me={__name:"home",async setup(r){let o,e;const c=([o,e]=S(()=>L()),o=await o,e(),o),t=c.getSiteConfig(),d=c.getPostList(),h=(t==null?void 0:t.title)||"Untitled",_=(t==null?void 0:t.subtitle)||"",a=(t==null?void 0:t.author)||"";return(Y,ee)=>(l(),A(E,null,{default:v(()=>[s("section",M,[s("div",H,[s("h1",V,n(p(h)),1),s("p",$,n(p(_)),1)]),(l(!0),u(g,null,b(p(d),(i,w)=>(l(),u("div",{key:w,class:"grid grid-cols-12 gap-4"},[s("section",C,[s("ul",I,[i.book?(l(),u("li",P,[s("a",j,n(i.book.title),1)])):m("",!0)])]),s("section",q,n(`${new Date(i.date).getDate()}`.padStart(2,"0")),1),s("a",z,[s("header",null,[s("h2",O,n(i.title),1)]),s("section",U,[s("p",X,[i.sticky?(l(),u("span",Z,[x(" ["),G,x("顶] ")])):m("",!0),s("span",J,n(i.author||p(a)),1),K,s("span",Q,n(p(B)(i.content))+"min",1),R,(l(!0),u(g,null,b(i.tags,(T,F)=>(l(),u("span",{key:F,class:"bg-gray-100 dark:bg-black px-1.5 rounded-sm flex ml-1"},n(T.name),1))),128))]),i.excerpt?(l(),u("p",W,n(i.excerpt),1)):m("",!0)])])]))),128))])]),_:1}))}};export{me as default};
