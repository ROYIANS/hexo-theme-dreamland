import{_ as E}from"./default.vue.b8b16744.js";import{w as S,c as A,b as v,u as L,o as l,e as s,t as n,f as p,g as u,r as b,h as m,i as x,F as g}from"./entry.5f25831e.js";import"./remixicon.d0b01ab3.js";import"./Header.vue.e37c69db.js";import"./Popover.40086119.js";import"./light.13f70239.js";import"./format-length.c9d165c6.js";import"./cssr.fa0c1246.js";import"./use-merged-state.e8c51dcf.js";import"./Icon.bc10437f.js";import"./light.75025a4c.js";import"./create.f805babe.js";import"./light.82c1606f.js";import"./Footer.vue.54da2f20.js";const f=Symbol("plaintext"),k=Symbol("html"),y=Symbol("comment");function D(r=""){if(typeof r!="string"&&!(r instanceof String))return"";let a=f,e="",i=0,t="",d="";const{length:h}=r;for(let _=0;_<h;_++){const o=r[_];if(a===f)switch(o){case"<":a=k,e=e+o;break;default:d+=o;break}else if(a===k)switch(o){case"<":if(t)break;i++;break;case">":if(t)break;if(i){i--;break}t="",a=f,e="";break;case'"':case"'":o===t?t="":t=t||o,e=e+o;break;case"-":e==="<!-"&&(a=y),e=e+o;break;case" ":case`
`:if(e==="<"){a=f,d+="< ",e="";break}e=e+o;break;default:e=e+o;break}else if(a===y)switch(o){case">":e.slice(-2)==="--"&&(a=f),e="";break;default:e=e+o;break}}return d}const N=r=>{r=D(r);const a=(r.match(/[\u4E00-\u9FA5]/g)||[]).length,e=(r.replace(/[\u4E00-\u9FA5]/g,"").match(/[a-zA-Z0-9_\u0392-\u03c9\u0400-\u04FF]+|[\u4E00-\u9FFF\u3400-\u4dbf\uf900-\ufaff\u3040-\u309f\uac00-\ud7af\u0400-\u04FF]+|[\u00E4\u00C4\u00E5\u00C5\u00F6\u00D6]+|\w+/g)||[]).length;return[a,e]};function B(r,{cn:a=300,en:e=160}={}){let i=N(r),t=i[0]/a+i[1]/e;return t<1?"1":parseInt(`${t}`,10)}const M={class:"px-6 max-w-prose mx-auto gap-12 grid grid-cols-1"},H={class:"flex flex-col md:h-48 items-center justify-center"},V={class:"site-title heti--serif text-4xl leading-none relative before:absolute before:block before:w-2 before:h-2 before:top-0 before:-right-2 before:rounded before:border-red-700 before:border-2 before:border-solid"},$={class:"text-gray-500 mt-2"},C={class:"col-span-2 text-gray-400 my-1 text-sm time whitespace-nowrap"},I={class:"text-right"},P={key:0,class:"leading-relaxed overflow-ellipsis overflow-hidden"},j={href:"post.book.url",title:"post.book.title"},q={class:"col-span-2 heti--serif text-4xl text-center"},z={href:"post.path",class:"col-span-8"},O={class:"text-xl heti--serif"},U={class:"text-gray-400 my-1 text-sm time"},X={class:"text-xs flex flex-wrap items-center whitespace-nowrap overflow-hidden"},Z={key:0,class:"mr-2 text-theme-orange"},G=s("i",{class:"ri-skip-up-line"},null,-1),J={class:""},K=s("span",{class:"text-gray px-1"},"·",-1),Q={class:"opacity-50 before:opacity-70"},R=s("span",{class:"text-gray px-1"},"·",-1),W={key:0,class:"line-clamp-4 mt-2 ml-5"},he={__name:"home",async setup(r){let a,e;const i=([a,e]=S(()=>L()),a=await a,e(),a),t=i.getSiteConfig(),d=i.getPostList(),h=(t==null?void 0:t.title)||"Untitled",_=(t==null?void 0:t.subtitle)||"",o=(t==null?void 0:t.author)||"";return(Y,ee)=>(l(),A(E,null,{default:v(()=>[s("section",M,[s("div",H,[s("h1",V,n(p(h)),1),s("p",$,n(p(_)),1)]),(l(!0),u(g,null,b(p(d),(c,w)=>(l(),u("div",{key:w,class:"grid grid-cols-12 gap-4"},[s("section",C,[s("ul",I,[c.book?(l(),u("li",P,[s("a",j,n(c.book.title),1)])):m("",!0)])]),s("section",q,n(`${new Date(c.date).getDate()}`.padStart(2,"0")),1),s("a",z,[s("header",null,[s("h2",O,n(c.title),1)]),s("section",U,[s("p",X,[c.sticky?(l(),u("span",Z,[x(" ["),G,x("顶] ")])):m("",!0),s("span",J,n(c.author||p(o)),1),K,s("span",Q,n(p(B)(c.content))+"min",1),R,(l(!0),u(g,null,b(c.tags,(T,F)=>(l(),u("span",{key:F,class:"bg-gray-100 dark:bg-black px-1.5 rounded-sm flex ml-1"},n(T.name),1))),128))]),c.excerpt?(l(),u("p",W,n(c.excerpt),1)):m("",!0)])])]))),128))])]),_:1}))}};export{he as default};
